{
	"id": "dms/editDocument",
	"formDef": {
		"rows": [
			{
				"cols": [
					{
						"size": 9,
						"type": "text",
						"label": "Name",
						"value": "{{document.caption}}",
						"isRequired": true
					},
					{
						"size": 3,
						"type": "text",
						"label": "Key",
						"value": "{{document.intlKey}}"
					}
				]
			},
			{
				"cols": [
					{
						"size": 6,
						"type": "select",
						"label": "Category",
						"value": "{{document.documentCategory}}",
						"dataSource": "Rest",
						"storage": "Full",
						"identity": "id",
						"enableAutocomplete": false,
						"queryUrl": "{{enumBaseUrl}}/dms/codeDocumentCategory",
						"path": "",
						"formatItem": "{{$item.name}}",
						"isRequired": true
					},
					{
						"size": 6,
						"type": "select",
						"label": "Type",
						"value": "{{document.documentType}}",
						"dataSource": "Rest",
						"storage": "Full",
						"identity": "id",
						"enableAutocomplete": false,
						"queryUrl": "{{enumBaseUrl}}/dms/codeDocumentType?filter=instance",
						"path": "",
						"formatItem": "{{$item.name}}",
						"isRequired": true
					}
				]
			},
			{
				"cols": [
					{
						"size": 6,
						"type": "select",
						"label": "Status",
						"value": "{{document.documentStatus}}",
						"dataSource": "Rest",
						"storage": "Full",
						"identity": "id",
						"enableAutocomplete": false,
						"queryUrl": "{{enumBaseUrl}}/dms/codeDocumentStatus{{document.documentCategory.documentLifecycle.id ? '/' + document.documentCategory.documentLifecycle.id : '' }}",
						"path": "",
						"formatItem": "{{$item.name}}",
						"isRequired": true,
						"enabled": "{{document.documentCategory}}"
					},
					{
						"size": 6,
						"type": "select",
						"label": "Client visibility",
						"value": "{{document.documentClientVisibility}}",
						"dataSource": "Rest",
						"storage": "Full",
						"identity": "id",
						"enableAutocomplete": false,
						"queryUrl": "{{enumBaseUrl}}/dms/codeDocumentClientVisibility",
						"path": "",
						"formatItem": "{{$item.name}}",
						"isRequired": true
					}
				]
			},
			{
				"cols": [
					{
						"size": 6,
						"type": "select",
						"label": "Areas",
						"value": "{{document.areas}}",
						"dataSource": "Rest",
						"storage": "Full",
						"identity": "id",
						"multi": true,
						"enableAutocomplete": false,
						"queryUrl": "{{enumBaseUrl}}/account/codeArea",
						"formatItem": "{{$item.name}}"
					},
					{
						"size": 6,
						"type": "select",
						"label": "Meeting Types",
						"value": "{{document.meetingTypes}}",
						"dataSource": "Rest",
						"storage": "Full",
						"identity": "id",
						"multi": true,
						"enableAutocomplete": false,
						"queryUrl": "{{enumBaseUrl}}/meeting/codeMeetingType",
						"formatItem": "{{$item.name}}"
					}
				]
			},
			{
				"cols": [
					{
						"size": 12,
						"type": "textarea",
						"label": "Description",
						"value": "{{document.description}}"
					}
				]
			},
			{
				"cols": [
					{
						"type": "hr",
						"label": "Content"
					}
				]
			},
			{
				"cols": [
					{
						"size": 9,
						"type": "text",
						"label": "URL",
						"value": "{{document.url}}",
						"visible": "{{!document.content}}"
					},
					{
						"size": 3,
						"type": "select",
						"label": "Content Type",
						"value": "{{document.contentType}}",
						"dataSource": "Rest",
						"storage": "Full",
						"identity": "id",
						"enableAutocomplete": false,
						"queryUrl": "{{enumBaseUrl}}/common/codeContentType",
						"formatItem": "{{$item.name}}",
						"enabled": "{{!document.content}}",
						"isClearable": true,
						"isRequired": true
					},
					{
						"size": 12,
						"type": "textarea",
						"label": "Payload",
						"value": "{{document.payload}}",
						"visible": "{{document.contentType.id === 'form' || document.contentType.id === 'questionnaire' || document.contentType.id === 'calculator'}}"
					},
					{
						"size": 12,
						"type": "upload",
						"label": "File",
						"value": "{{document.content}}",
						"readonly": "{{!control.enabled}}",
						"autoupload": true,
						"allowDelete": true,
						"minFiles": 1,
						"maxFiles": 1,
						"uploadUrl": "{{apiBaseUrl}}/dms/content/unversioned{{!document.id || document.id === '##NEW##' ? '' : '/' + document.id}}",
						"deleteUrl": "{{apiBaseUrl}}/dms/content/{{$file.id}}",
						"acceptFileTypes": ".pdf,.doc,.docx,.ppt,.pptx,.xls,.xlsx",
						"fileService": "{{apiBaseUrl}}",
						"isRequired": "{{!control.enabled && !document.url && document.contentType.id !== 'form' && document.contentType.id !== 'questionnaire' && document.contentType.id !== 'calculator'}}",
						"enabled": "{{!document.contentType && !document.url}}"
					}
				]
			},
			{
				"cols": [
					{
						"type": "accordion",
						"visible": "{{!control.enabled}}",
						"sections": [
							{
								"type": "panel",
								"label": "System Information",
								"rows": [
									{
										"cols": [
											{
												"size": 6,
												"type": "text",
												"label": "Created By",
												"value": "{{document.meta.createdByUser.caption}}",
												"visible": "{{!control.enabled}}",
												"enabled": false
											},
											{
												"size": 6,
												"type": "date",
												"enableTime": true,
												"format": "dddd, DD.MM.YYYY HH:mm",
												"label": "&nbsp;",
												"value": "{{document.meta.createdAt}}",
												"visible": "{{!control.enabled}}",
												"enabled": false
											},
											{
												"size": 6,
												"type": "text",
												"label": "Last Modified By",
												"value": "{{document.meta.modifiedByUser.caption}}",
												"visible": "{{!control.enabled}}",
												"enabled": false
											},
											{
												"size": 6,
												"type": "date",
												"enableTime": true,
												"format": "dddd, DD.MM.YYYY HH:mm",
												"label": "&nbsp;",
												"value": "{{document.meta.modifiedAt}}",
												"visible": "{{!control.enabled}}",
												"enabled": false
											}
										]
									}
								]
							}
						]
					}
				]
			}
		]
	}
}
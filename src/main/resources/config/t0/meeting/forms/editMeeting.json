{
	"id": "meeting/editMeeting",
	"formDef": {
		"rows": [
			{
				"cols": [
					{
						"size": 6,
						"type": "select",
						"label": "Account",
						"value": "{{meeting.account}}",
						"dataSource": "Rest",
						"storage": "Id",
						"lookupUrl": "{{apiBaseUrl}}/account/accounts/{{$id}}",
						"identity": "id",
						"formatItem": "{{$item.caption}}",
						"queryUrl": "{{apiBaseUrl}}/account/accounts?filter[searchText]={{$searchText}}",
						"enableAutocomplete": true,
						"autocompleteMinLength": 2,
						"path": "",
						"enabled": "{{!meeting.account}}",
						"isRequired": true
					},
					{
						"size": 6,
						"type": "select",
						"label": "Reference",
						"value": "{{meeting.refDoc}}",
						"dataSource": "Rest",
						"storage": "Id",
						"lookupUrl": "{{apiBaseUrl}}/doc/docs/{{$id}}",
						"identity": "id",
						"formatItem": "{{$item.caption}}",
						"queryUrl": "{{apiBaseUrl}}/doc/docs?filter[account.id]={{meeting.account}}&filter[docTypeId][IN]=doc_advice,doc_opportunity,doc_lead",
						"enableAutocomplete": false,
						"visible": "{{control.enabled || meeting.refDoc}}",
						"enabled": "{{!!meeting.account}}",
						"path": ""
					}
				]
			},
			{
				"cols": [
					{
						"size": 6,
						"type": "select",
						"label": "Type",
						"value": "{{meeting.meetingType}}",
						"dataSource": "Rest",
						"storage": "Full",
						"identity": "id",
						"enableAutocomplete": false,
						"queryUrl": "{{enumBaseUrl}}/meeting/codeMeetingType",
						"path": "",
						"formatItem": "{{$item.name}}",
						"enabled": "{{!!meeting.account}}",
						"isRequired": true
					},
					{
						"size": 6,
						"type": "select",
						"label": "Areas",
						"value": "{{meeting.areas}}",
						"dataSource": "Rest",
						"storage": "Full",
						"identity": "id",
						"multi": true,
						"enableAutocomplete": false,
						"queryUrl": "{{enumBaseUrl}}/common/codeArea",
						"formatItem": "{{$item.name}}",
						"enabled": "{{!!meeting.account}}"
					}
				]
			},
			{
				"cols": [
					{
						"size": 12,
						"type": "text",
						"label": "Title",
						"value": "{{meeting.name}}",
						"enabled": "{{!!meeting.account}}",
						"isRequired": true
					}
				]
			},
			{
				"cols": [
					{
						"size": 12,
						"type": "textarea",
						"label": "Purpose",
						"value": "{{meeting.purpose}}",
						"enabled": "{{!!meeting.account}}"
					}
				]
			},
			{
				"cols": [
					{
						"type": "hr",
						"label": "Who, When, Where"
					}
				]
			},
			{
				"cols": [
					{
						"size": 6,
						"type": "select",
						"label": "Advisors",
						"value": "{{meeting.advisors}}",
						"dataSource": "Rest",
						"storage": "Full",
						"identity": "id",
						"multi": true,
						"enableAutocomplete": false,
						"queryUrl": "{{enumBaseUrl}}/oe/objUser",
						"formatItem": "{{$item.name}}",
						"enabled": "{{!!meeting.account}}"
					},
					{
						"size": "{{!!control.enabled ? 5 : 6}}",
						"type": "select",
						"label": "Contacts",
						"value": "{{meeting.contacts}}",
						"dataSource": "Rest",
						"storage": "Full",
						"identity": "id",
						"multi": true,
						"enableAutocomplete": false,
						"queryUrl": "{{apiBaseUrl}}/contact/contacts?filter[account.id]={{meeting.account}}&filter[email][NEQ]=null",
						"formatItem": "{{$item.caption}}",
						"enabled": "{{!!meeting.account}}"
					},
					{
						"size": 1,
						"label": "&nbsp;",
						"id": "createContactButton",
						"type": "scriptButton",
						"value": "{{createContactButtonResult}}",
						"text": "+",
						"script": "createContact",
						"visible": "{{!!control.enabled}}",
						"enabled": "{{!!meeting.account}}"
					}
				]
			},
			{
				"cols": [
					{
						"size": 3,
						"type": "date",
						"label": "Date",
						"value": "{{meeting.date}}",
						"format": "DD.MM.YYYY",
						"enabled": "{{!!meeting.account}}",
						"isRequired": true
					},
					{
						"size": 4,
						"type": "select",
						"label": "Start",
						"value": "{{meeting.startTime}}",
						"dataSource": "Static",
						"storage": "Id",
						"multi": false,
						"enableAutocomplete": false,
						"enabled": "{{!!meeting.account && !!meeting.startDate}}",
						"items": [
							{
								"value": "00:00",
								"text": "00:00"
							},
							{
								"value": "00:30",
								"text": "00:30"
							},
							{
								"value": "01:00",
								"text": "01:00"
							},
							{
								"value": "01:30",
								"text": "01:30"
							},
							{
								"value": "02:00",
								"text": "02:00"
							},
							{
								"value": "02:30",
								"text": "02:30"
							},
							{
								"value": "03:00",
								"text": "03:00"
							},
							{
								"value": "03:30",
								"text": "03:30"
							},
							{
								"value": "04:00",
								"text": "04:00"
							},
							{
								"value": "04:30",
								"text": "04:30"
							},
							{
								"value": "05:00",
								"text": "05:00"
							},
							{
								"value": "05:30",
								"text": "05:30"
							},
							{
								"value": "06:00",
								"text": "06:00"
							},
							{
								"value": "06:30",
								"text": "06:30"
							},
							{
								"value": "07:00",
								"text": "07:00"
							},
							{
								"value": "07:30",
								"text": "07:30"
							},
							{
								"value": "08:00",
								"text": "08:00"
							},
							{
								"value": "08:30",
								"text": "08:30"
							},
							{
								"value": "09:00",
								"text": "09:00"
							},
							{
								"value": "09:30",
								"text": "09:30"
							},
							{
								"value": "10:00",
								"text": "10:00"
							},
							{
								"value": "10:30",
								"text": "10:30"
							},
							{
								"value": "11:00",
								"text": "11:00"
							},
							{
								"value": "11:30",
								"text": "11:30"
							},
							{
								"value": "12:00",
								"text": "12:00"
							},
							{
								"value": "12:30",
								"text": "12:30"
							},
							{
								"value": "13:00",
								"text": "13:00"
							},
							{
								"value": "13:30",
								"text": "13:30"
							},
							{
								"value": "14:00",
								"text": "14:00"
							},
							{
								"value": "14:30",
								"text": "14:30"
							},
							{
								"value": "15:00",
								"text": "15:00"
							},
							{
								"value": "15:30",
								"text": "15:30"
							},
							{
								"value": "16:00",
								"text": "16:00"
							},
							{
								"value": "16:30",
								"text": "16:30"
							},
							{
								"value": "17:00",
								"text": "17:00"
							},
							{
								"value": "17:30",
								"text": "17:30"
							},
							{
								"value": "18:00",
								"text": "18:00"
							},
							{
								"value": "18:30",
								"text": "18:30"
							},
							{
								"value": "19:00",
								"text": "19:00"
							},
							{
								"value": "19:30",
								"text": "19:30"
							},
							{
								"value": "20:00",
								"text": "20:00"
							},
							{
								"value": "20:30",
								"text": "20:30"
							},
							{
								"value": "21:00",
								"text": "21:00"
							},
							{
								"value": "21:30",
								"text": "21:30"
							},
							{
								"value": "22:00",
								"text": "22:00"
							},
							{
								"value": "22:30",
								"text": "22:30"
							},
							{
								"value": "23:00",
								"text": "23:00"
							},
							{
								"value": "23:30",
								"text": "23:30"
							}
						]
					},
					{
						"size": 3,
						"type": "select",
						"label": "End",
						"value": "{{meeting.endTime}}",
						"dataSource": "Static",
						"storage": "Id",
						"multi": false,
						"enableAutocomplete": false,
						"enabled": "{{!!meeting.account && !!meeting.startDate}}",
						"items": [
							{
								"value": "00:00",
								"text": "00:00"
							},
							{
								"value": "00:30",
								"text": "00:30"
							},
							{
								"value": "01:00",
								"text": "01:00"
							},
							{
								"value": "01:30",
								"text": "01:30"
							},
							{
								"value": "02:00",
								"text": "02:00"
							},
							{
								"value": "02:30",
								"text": "02:30"
							},
							{
								"value": "03:00",
								"text": "03:00"
							},
							{
								"value": "03:30",
								"text": "03:30"
							},
							{
								"value": "04:00",
								"text": "04:00"
							},
							{
								"value": "04:30",
								"text": "04:30"
							},
							{
								"value": "05:00",
								"text": "05:00"
							},
							{
								"value": "05:30",
								"text": "05:30"
							},
							{
								"value": "06:00",
								"text": "06:00"
							},
							{
								"value": "06:30",
								"text": "06:30"
							},
							{
								"value": "07:00",
								"text": "07:00"
							},
							{
								"value": "07:30",
								"text": "07:30"
							},
							{
								"value": "08:00",
								"text": "08:00"
							},
							{
								"value": "08:30",
								"text": "08:30"
							},
							{
								"value": "09:00",
								"text": "09:00"
							},
							{
								"value": "09:30",
								"text": "09:30"
							},
							{
								"value": "10:00",
								"text": "10:00"
							},
							{
								"value": "10:30",
								"text": "10:30"
							},
							{
								"value": "11:00",
								"text": "11:00"
							},
							{
								"value": "11:30",
								"text": "11:30"
							},
							{
								"value": "12:00",
								"text": "12:00"
							},
							{
								"value": "12:30",
								"text": "12:30"
							},
							{
								"value": "13:00",
								"text": "13:00"
							},
							{
								"value": "13:30",
								"text": "13:30"
							},
							{
								"value": "14:00",
								"text": "14:00"
							},
							{
								"value": "14:30",
								"text": "14:30"
							},
							{
								"value": "15:00",
								"text": "15:00"
							},
							{
								"value": "15:30",
								"text": "15:30"
							},
							{
								"value": "16:00",
								"text": "16:00"
							},
							{
								"value": "16:30",
								"text": "16:30"
							},
							{
								"value": "17:00",
								"text": "17:00"
							},
							{
								"value": "17:30",
								"text": "17:30"
							},
							{
								"value": "18:00",
								"text": "18:00"
							},
							{
								"value": "18:30",
								"text": "18:30"
							},
							{
								"value": "19:00",
								"text": "19:00"
							},
							{
								"value": "19:30",
								"text": "19:30"
							},
							{
								"value": "20:00",
								"text": "20:00"
							},
							{
								"value": "20:30",
								"text": "20:30"
							},
							{
								"value": "21:00",
								"text": "21:00"
							},
							{
								"value": "21:30",
								"text": "21:30"
							},
							{
								"value": "22:00",
								"text": "22:00"
							},
							{
								"value": "22:30",
								"text": "22:30"
							},
							{
								"value": "23:00",
								"text": "23:00"
							},
							{
								"value": "23:30",
								"text": "23:30"
							}
						]
					},
					{
						"size": 2,
						"type": "number",
						"label": "Duration (minutes)",
						"value": "{{meeting.duration}}",
						"enabled": false,
						"isRequired": true
					}
				]
			},
			{
				"cols": [
					{
						"size": 6,
						"type": "select",
						"label": "Reminder",
						"value": "{{meeting.reminder}}",
						"dataSource": "Static",
						"storage": "Id",
						"multi": false,
						"enableAutocomplete": false,
						"items": [
							{
								"value": 0,
								"text": "At the same moment"
							},
							{
								"value": 5,
								"text": "5 minutes before"
							},
							{
								"value": 15,
								"text": "15 minutes before"
							},
							{
								"value": 30,
								"text": "30 minutes before"
							},
							{
								"value": 60,
								"text": "1 hour before"
							},
							{
								"value": 120,
								"text": "2 hours before"
							},
							{
								"value": 720,
								"text": "12 hours before"
							},
							{
								"value": 1440,
								"text": "1 day before"
							},
							{
								"value": 10808,
								"text": "1 week before"
							}
						]
					}
				]
			},
			{
				"cols": [
					{
						"size": 6,
						"type": "select",
						"label": "Location",
						"value": "{{meeting.location}}",
						"dataSource": "Rest",
						"storage": "Full",
						"identity": "id",
						"enableAutocomplete": false,
						"queryUrl": "{{enumBaseUrl}}/meeting/codeMeetingLocation",
						"path": "",
						"formatItem": "{{$item.name}}",
						"enabled": "{{!!meeting.account}}",
						"isRequired": true
					},
					{
						"size": 6,
						"type": "text",
						"label": "Location Details",
						"value": "{{meeting.locationText}}",
						"enabled": "{{!!meeting.account}}"
					}
				]
			},
			{
				"cols": [
					{
						"size": 12,
						"type": "text",
						"label": "Location Remarks",
						"value": "{{meeting.locationRemark}}",
						"enabled": "{{!!meeting.account}}"
					}
				]
			},
			{
				"cols": [
					{
						"type": "accordion",
						"visible": "{{!control.enabled}}",
						"sections": [
							{
								"type": "panel",
								"label": "System Information",
								"rows": [
									{
										"cols": [
											{
												"size": 6,
												"type": "text",
												"label": "Created By",
												"value": "{{meeting.meta.createdByUser.caption}}",
												"visible": "{{!control.enabled}}",
												"enabled": false
											},
											{
												"size": 6,
												"type": "date",
												"enableTime": true,
												"format": "dddd, DD.MM.YYYY HH:mm",
												"label": "&nbsp;",
												"value": "{{meeting.meta.createdAt}}",
												"visible": "{{!control.enabled}}",
												"enabled": false
											},
											{
												"size": 6,
												"type": "text",
												"label": "Last Modified By",
												"value": "{{meeting.meta.modifiedByUser.caption}}",
												"visible": "{{!control.enabled}}",
												"enabled": false
											},
											{
												"size": 6,
												"type": "date",
												"enableTime": true,
												"format": "dddd, DD.MM.YYYY HH:mm",
												"label": "&nbsp;",
												"value": "{{meeting.meta.modifiedAt}}",
												"visible": "{{!control.enabled}}",
												"enabled": false
											}
										]
									}
								]
							}
						]
					}
				]
			}
		]
	}
}
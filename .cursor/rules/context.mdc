---
alwaysApply: true
---

# Context

This is an ERP application for real estate management, written in mixed Java/Kotlin targeting a Spring Boot deployment.
It is a multi-module Maven project, and includes the dddrive application development framework.

# UI

The new UI is in fm-ux.
fm-ui is kept around for reference and for migration of existing code.

# Coding

Any new server code must be written in Kotlin.
Any new UI code must be written in TypeScript.

# Persistence

The application uses a PostgreSQL database for production persistence, accessed via the jOOQ library.
The database schema is generated and maintained via flyway through the scripts in the src/main/resources/db directory.

For development, we use a custom in-memory database.

# Environment

We are on a Windows machine with the command shell.

# Compilation and Linting

## Client

You can use cursor/vscode to lint the client code.

## Server

The linting inside the cursor IDE is not reliable, so you need to run the compilation to ensure the code is correct.

`mvn compile -DskipTests -nsu`

or even with full recompilation (VERY SLOW):

`mvn clean test-compile -DskipTests -nsu`
